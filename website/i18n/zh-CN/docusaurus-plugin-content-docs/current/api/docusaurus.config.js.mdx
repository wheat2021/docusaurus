---
sidebar_position: 0
title: docusaurus.config.js
sidebar_label: docusaurus.config.js
description: Docusaurus 配置文件的 API 参考。
slug: /api/docusaurus-config
---

# `docusaurus.config.js`

import APITable from '@site/src/components/APITable';

:::info

示例请参阅入门[**配置**](../configuration.mdx)。

:::

## 概览 {#overview}

`docusaurus.config.js` 包含你网站的配置，位于你网站的根目录中。

:::note

对于 [TypeScript](../typescript-support.mdx) 的 Docusaurus 代码库，你的配置文件可能名为 `docusaurus.config.ts`。除了增加了类型，其语法与 `js` 配置文件大致相同。你可以在 [Docusaurus 网站](https://github.com/facebook/docusaurus/blob/main/website/docusaurus.config.ts)本身看到一个示例。

:::

此文件**在 Node.js 中运行**，应导出一个网站配置对象，或一个创建该对象的函数。

`docusaurus.config.js` 文件支持：

- [**ES Modules**](https://flaviocopes.com/es-modules/)
- [**CommonJS**](https://flaviocopes.com/commonjs/)
- [**TypeScript**](../typescript-support.mdx#typing-config)

示例：

```js title="docusaurus.config.js"
export default {
  title: 'Docusaurus',
  url: 'https://docusaurus.io',
  // your site config ...
};
```

```js title="docusaurus.config.js"
export default async function createConfigAsync() {
  return {
    title: 'Docusaurus',
    url: 'https://docusaurus.io',
    // your site config ...
  };
}
```

:::tip

有关更详尽的示例和解释列表，请参阅[**声明 `docusaurus.config.js` 的语法**](../configuration.mdx#syntax-to-declare-docusaurus-config)。

:::

## 必填字段 {#required-fields}

### `title` {#title}

- 类型: `string`

你的网站标题。将用于元数据和浏览器标签页标题。

```js title="docusaurus.config.js"
export default {
  title: 'Docusaurus',
};
```

### `url` {#url}

- 类型: `string`

你的网站 URL。这也可以被视为主机名。例如，`https://facebook.github.io` 是 https://facebook.github.io/metro/ 的 URL，而 `https://docusaurus.io` 是 https://docusaurus.io 的 URL。此字段与 [`baseUrl`](#baseUrl) 字段相关。

```js title="docusaurus.config.js"
export default {
  url: 'https://docusaurus.io',
};
```

:::info i18n 网站的特殊情况

如果你的网站使用多种语言，可以通过 [`siteConfig.i18n.localeConfigs[<locale>].url`](#i18n) 属性为每种语言提供一个不同的 `url`。这使得在[多个域名上部署本地化的 Docusaurus 网站](../i18n/i18n-tutorial.mdx#multi-domain-deployment)成为可能。

:::

### `baseUrl` {#baseUrl}

- 类型: `string`

你网站的基础 URL 是紧跟在 [`url`](#url) 之后的路径段，让你最终可以将网站托管在域名的子路径下，而不是根目录下。

例如，假设你想在 https://facebook.github.io/metro/ 上托管一个网站，那么你必须相应地进行配置：

- [`url`](#url) 应为 `'https://facebook.github.io'`
- `baseUrl` 应为 `'/metro/'`

默认情况下，Docusaurus 网站托管在域名的根目录下：

```js title="docusaurus.config.js"
export default {
  baseUrl: '/',
};
```

:::info i18n 网站的特殊情况

如果你的网站使用多种语言，那么 Docusaurus 将根据智能启发式方法自动本地化你网站的 `baseUrl`：

- 对于默认语言，`baseUrl` 将是 `/<siteBaseUrl>/`
- 对于其他语言，`baseUrl` 将是 `/<siteBaseUrl>/<locale>/`
- 当一次只构建一种语言时（使用 `docusaurus build --locale <locale>`），`baseUrl` 将是 `/<siteBaseUrl>/`，假设意图是[在不同的域名上部署每种语言](../i18n/i18n-tutorial.mdx#multi-domain-deployment)。

当 Docusaurus 计算出的本地化 `baseUrl` 不能满足你的需求时，总是可以通过 [`siteConfig.i18n.localeConfigs[<locale>].baseUrl`](#i18n) 属性提供一个明确的本地化 `baseUrl` 来覆盖它。

:::

## 可选字段 {#optional-fields}

### `favicon` {#favicon}

- 类型: `string | undefined`

你的网站图标路径；必须是一个可以用在链接的 href 中的 URL。例如，如果你的网站图标在 `static/img/favicon.ico` 中：

```js title="docusaurus.config.js"
export default {
  favicon: '/img/favicon.ico',
};
```

### `trailingSlash` {#trailingSlash}

- 类型: `boolean | undefined`

允许自定义 URL/链接末尾是否带有尾部斜杠，以及如何生成静态 HTML 文件：

- `undefined` (默认)：保持 URL 不变，并为 `/docs/myDoc.md` 生成 `/docs/myDoc/index.html`
- `true`: 为 URL/链接添加尾部斜杠，并为 `/docs/myDoc.md` 生成 `/docs/myDoc/index.html`
- `false`: 从 URL/链接中移除尾部斜杠，并为 `/docs/myDoc.md` 生成 `/docs/myDoc.html`

:::tip

每个静态托管提供商提供静态文件的方式都不同（这种行为甚至可能随时间改变）。

请参阅[部署指南](../deployment.mdx)和 [slorber/trailing-slash-guide](https://github.com/slorber/trailing-slash-guide) 来选择合适的设置。

:::

### `i18n` {#i18n}

- 类型: `Object`

用于[本地化你的网站](../i18n/i18n-introduction.mdx)的 i18n 配置对象。

示例：

{/* cSpell:ignore فارسی */}

```js title="docusaurus.config.js"
export default {
  i18n: {
    defaultLocale: 'en',
    locales: ['en', 'fa'],
    path: 'i18n',
    localeConfigs: {
      en: {
        label: 'English',
        direction: 'ltr',
        htmlLang: 'en-US',
        calendar: 'gregory',
        path: 'en',
        translate: false,
        url: 'https://en.example.com',
        baseUrl: '/',
      },
      fa: {
        label: 'فارسی',
        direction: 'rtl',
        htmlLang: 'fa-IR',
        calendar: 'persian',
        path: 'fa',
        translate: true,
        url: 'https://fa.example.com',
        baseUrl: '/',
      },
    },
  },
};
```

- `defaultLocale`: 该语言 (1) 其名称不会出现在基础 URL 中 (2) 在不带 `--locale` 选项的情况下通过 `docusaurus start` 启动 (3) 将用于 `<link hrefLang="x-default">` 标签
- `locales`: 部署在你网站上的语言列表。必须包含 `defaultLocale`。
- `path`: 所有语言文件夹的根文件夹。可以是绝对路径，也可以是相对于配置文件的路径。默认为 `i18n`。
- `localeConfigs`: 每种语言的单独选项。
  - `label`: 在语言下拉菜单中为此语言显示的标签。
  - `direction`: `ltr` (默认) 或 `rtl` (用于[从右到左书写的语言](https://developer.mozilla.org/en-US/docs/Glossary/rtl)，如波斯语、阿拉伯语、希伯来语等)。用于选择语言的 CSS 和 HTML meta 属性。
  - `htmlLang`: BCP 47 语言标签，用于 `<html lang="...">` (或任何其他 DOM 标签名) 和 `<link ... hreflang="...">` 中
  - `calendar`: 用于计算日期纪元的[日历](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/calendar)。请注意，它不控制实际显示的字符串：`MM/DD/YYYY` 和 `DD/MM/YYYY` 都是 `gregory`。要选择格式（`DD/MM/YYYY` 或 `MM/DD/YYYY`），请将你的语言名称设置为 `en-GB` 或 `en-US`（`en` 表示 `en-US`）。
  - `path`: 此语言的所有插件本地化文件夹的根文件夹。将相对于 `i18n.path` 进行解析。默认为语言名称 (`i18n/<locale>`)。注意：这对语言的 `baseUrl` 没有影响——基础 URL 的自定义正在进行中。
  - `translate`: 是否应为此语言运行翻译过程？默认情况下，如果 `i18n/<locale>` 文件夹存在，则启用
  - `url`: 这允许你覆盖 [`siteConfig.url`](#url)，如果你的网站[部署在多个域名上](../i18n/i18n-tutorial.mdx#multi-domain-deployment)，这特别有用。
  - `baseUrl`: 这允许你覆盖 Docusaurus 从你的 [`siteConfig.baseUrl`](#baseUrl) 推断出的默认本地化 `baseUrl`，让你能以更不常见的方式托管你的本地化网站，特别是在[多域名部署](../i18n/i18n-tutorial.mdx#multi-domain-deployment)时，能有更多控制权。

### `future` {#future}

- 类型: `Object`

`future` 配置对象允许你选择加入即将推出/不稳定/实验性的、尚未完全准备好的 Docusaurus 功能。

这也是一种选择加入下一个主要版本中即将出现的重大更改的方式，使你能够在停留在前一个版本的同时为下一个版本做好准备。 [Remix Future Flags 博文](https://remix.run/blog/future-flags) 很好地解释了这个想法。

:::danger 次要版本中的重大更改

以 `experimental_` 或 `unstable_` 为前缀的功能可能会在**次要版本**中发生更改，并且不被视为[语义化版本控制的重大更改](/community/release-process)。

以 `v<MajorVersion>`（`v6`、`v7` 等）命名的功能是未来标志，预计将在下一个主要版本中默认开启。这些功能不太可能改变，但我们保留这样做的可能性。

`future` API 的重大更改应该很容易处理，并将在次要/主要版本的博客文章中进行记录。

:::

示例：

```js title="docusaurus.config.js"
export default {
  future: {
    v4: {
      removeLegacyPostBuildHeadAttribute: true,
      useCssCascadeLayers: true,
    },
    experimental_faster: {
      swcJsLoader: true,
      swcJsMinimizer: true,
      swcHtmlMinimizer: true,
      lightningCssMinimizer: true,
      rspackBundler: true,
      rspackPersistentCache: true,
      ssgWorkerThreads: true,
      mdxCrossCompilerCache: true,
    },
    experimental_storage: {
      type: 'localStorage',
      namespace: true,
    },
    experimental_router: 'hash',
  },
};
```

- `v4`: 允许你选择加入即将到来的 Docusaurus v4 的重大更改和功能，以便提前为这个新版本准备你的网站。使用 `true` 作为启用所有标志的简写。
  - [`removeLegacyPostBuildHeadAttribute`](https://github.com/facebook/docusaurus/pull/10435)：移除旧的 `plugin.postBuild({head})` API，该 API 阻止我们应用有用的 SSG 优化（[解释](https://github.com/facebook/docusaurus/pull/10850)）。
  - [`useCssCascadeLayers`](https://github.com/facebook/docusaurus/pull/11142)：这会启用带有预配置层的 [Docusaurus CSS 级联层插件](./plugins/plugin-css-cascade-layers.mdx)，我们计划在 Docusaurus v4 中默认应用这些层。
- `experimental_faster`: 一个包含功能标志的对象，用于加快 Docusaurus 的构建速度。这需要将 `@docusaurus/faster` 包添加到你网站的依赖项中。使用 `true` 作为启用所有标志的简写。在 [Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) 问题中阅读更多信息。可用的功能标志：
  - [`swcJsLoader`](https://github.com/facebook/docusaurus/pull/10435)：使用 [SWC](https://swc.rs/) 来转译 JS（而不是 [Babel](https://babeljs.io/)）。
  - [`swcJsMinimizer`](https://github.com/facebook/docusaurus/pull/10441)：使用 [SWC](https://swc.rs/) 来压缩 JS（而不是 [Terser](https://github.com/terser/terser)）。
  - [`swcHtmlMinimizer `](https://github.com/facebook/docusaurus/pull/10554)：使用 [SWC](https://swc.rs/) 来压缩 HTML 和内联的 JS/CSS（而不是 [html-minifier-terser](https://github.com/terser/html-minifier-terser)）。
  - [`lightningCssMinimizer`](https://github.com/facebook/docusaurus/pull/10522)：使用 [Lightning CSS](https://lightningcss.dev/) 来压缩 CSS（而不是 [cssnano](https://github.com/cssnano/cssnano) 和 [clean-css](https://github.com/clean-css/clean-css)）。
  - [`rspackBundler`](https://github.com/facebook/docusaurus/pull/10402)：使用 [Rspack](https://rspack.dev/) 来打包你的应用（而不是 [webpack](https://webpack.js.org/)）。
  - [`rspackPersistentCache`](https://github.com/facebook/docusaurus/pull/10931)：使用 [Rspack 持久缓存](https://rspack.dev/config/cache) 在后续构建中更快地重新构建你的应用。需要 `rspackBundler: true`。需要在重新构建之间持久化 `./node_modules/.cache`。
  - [`mdxCrossCompilerCache`](https://github.com/facebook/docusaurus/pull/10479)：为浏览器/Node.js 环境只编译一次 MDX 文件，而不是两次。
  - [`ssgWorkerThreads`](https://github.com/facebook/docusaurus/pull/10826)：使用 Node.js 工作线程池来更快地执行静态站点生成阶段。需要开启 `future.v4.removeLegacyPostBuildHeadAttribute`。
- `experimental_storage`: 主题作者应努力遵守的全站浏览器存储选项。
  - `type`: 主题作者应使用的浏览器存储。可能的值是 `localStorage` 和 `sessionStorage`。默认为 `localStorage`。
  - `namespace`: 是否为浏览器存储键添加命名空间，以避免在同一域名下或本地主机上托管 Docusaurus 网站时出现存储键冲突。可能的值是 `string | boolean`。命名空间附加在存储键的末尾 `key-namespace`。使用 `true` 从你的网站 `url + baseUrl` 自动生成一个随机命名空间。默认为 `false`（无命名空间，历史行为）。
- `experimental_router`: 要使用的路由器类型。可能的值是 `browser` 和 `hash`。默认为 `browser`。`hash` 路由器仅在极少数情况下有用，即你希望退出静态站点生成，拥有一个完全客户端的应用，只有一个 `index.html` 入口文件。这对于将 Docusaurus 网站分发为 `.zip` 存档，以便你可以在[本地浏览而无需运行 Web 服务器](https://github.com/facebook/docusaurus/issues/3825)非常有用。

### `noIndex` {#noIndex}

- 类型: `boolean`

此选项会向每个页面添加 `<meta name="robots" content="noindex, nofollow">`，以告知搜索引擎不要索引你的网站（更多信息请[在此处](https://moz.com/learn/seo/robots-meta-directives)查看）。

示例：

```js title="docusaurus.config.js"
export default {
  noIndex: true, // 默认为 `false`
};
```

### `onBrokenLinks` {#onBrokenLinks}

- 类型: `'ignore' | 'log' | 'warn' | 'throw'`

Docusaurus 在检测到任何损坏链接时的行为。

默认情况下，它会抛出一个错误，以确保你永远不会发布任何损坏的链接。

:::note

损坏链接检测仅在生产构建 (`docusaurus build`) 中可用。

:::

### `onBrokenAnchors` {#onBrokenAnchors}

- 类型: `'ignore' | 'log' | 'warn' | 'throw'`

Docusaurus 在检测到使用 Docusaurus 的 `Heading` 组件声明的任何损坏锚点时的行为。

默认情况下，它会打印一个警告，让你知道你的锚点已损坏。

### `onBrokenMarkdownLinks` {#onBrokenMarkdownLinks}

:::warning 已弃用

在 Docusaurus v3.9 中已弃用，并将在 Docusaurus v4 中移除。

由 [`siteConfig.markdown.hooks.onBrokenMarkdownLinks`](#hooks.onBrokenMarkdownLinks) 替代

:::

- 类型: `'ignore' | 'log' | 'warn' | 'throw'`

Docusaurus 在检测到任何损坏的 Markdown 链接时的行为。

默认情况下，它会打印一个警告，让你知道你的 Markdown 链接已损坏。

### `onDuplicateRoutes` {#onDuplicateRoutes}

- 类型: `'ignore' | 'log' | 'warn' | 'throw'`

Docusaurus 在检测到任何[重复路由](/guides/creating-pages.mdx#duplicate-routes)时的行为。

默认情况下，在你运行 `yarn start` 或 `yarn build` 后，它会显示一个警告。

### `tagline` {#tagline}

- 类型: `string`

你的网站标语。

```js title="docusaurus.config.js"
export default {
  tagline:
    'Docusaurus makes it easy to maintain Open Source documentation websites.',
};
```

### `organizationName` {#organizationName}

- 类型: `string`

拥有该仓库的 GitHub 用户或组织。如果你不使用 `docusaurus deploy` 命令，则不需要此项。

```js title="docusaurus.config.js"
export default {
  // Docusaurus 的组织是 facebook
  organizationName: 'facebook',
};
```

### `projectName` {#projectName}

- 类型: `string`

GitHub 仓库的名称。如果你不使用 `docusaurus deploy` 命令，则不需要此项。

```js title="docusaurus.config.js"
export default {
  projectName: 'docusaurus',
};
```

### `deploymentBranch` {#deploymentBranch}

- 类型: `string`

用于部署静态文件的分支名称。如果你不使用 `docusaurus deploy` 命令，则不需要此项。

```js title="docusaurus.config.js"
export default {
  deploymentBranch: 'gh-pages',
};
```

### `githubHost` {#githubHost}

- 类型: `string`

你的服务器主机名。如果你使用的是 GitHub Enterprise，则此项很有用。如果你不使用 `docusaurus deploy` 命令，则不需要此项。

```js title="docusaurus.config.js"
export default {
  githubHost: 'github.com',
};
```

### `githubPort` {#githubPort}

- 类型: `string`

你的服务器端口。如果你使用的是 GitHub Enterprise，则此项很有用。如果你不使用 `docusaurus deploy` 命令，则不需要此项。

```js title="docusaurus.config.js"
export default {
  githubPort: '22',
};
```

### `themeConfig` {#themeConfig}

- 类型: `Object`

用于自定义你的网站 UI（如导航栏和页脚）的[主题配置](./themes/theme-configuration.mdx)对象。

示例：

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    docs: {
      sidebar: {
        hideable: false,
        autoCollapseCategories: false,
      },
    },
    colorMode: {
      defaultMode: 'light',
      disableSwitch: false,
      respectPrefersColorScheme: true,
    },
    navbar: {
      title: 'Site Title',
      logo: {
        alt: 'Site Logo',
        src: 'img/logo.svg',
        width: 32,
        height: 32,
      },
      items: [
        {
          to: 'docs/docusaurus.config.js',
          activeBasePath: 'docs',
          label: 'docusaurus.config.js',
          position: 'left',
        },
        // ... other links
      ],
    },
    footer: {
      style: 'dark',
      links: [
        {
          title: 'Docs',
          items: [
            {
              label: 'Docs',
              to: 'docs/doc1',
            },
          ],
        },
        // ... other links
      ],
      logo: {
        alt: 'Meta Open Source Logo',
        src: 'img/meta_oss_logo.png',
        href: 'https://opensource.fb.com',
        width: 160,
        height: 51,
      },
      copyright: `Copyright © ${new Date().getFullYear()} Facebook, Inc.`, // 你也可以在这里放置自己的 HTML
    },
  },
};
```

### `plugins` {#plugins}

- 类型: `PluginConfig[]`

```ts
type PluginConfig = string | [string, any] | PluginModule | [PluginModule, any];
```

有关 `PluginModule` 的结构，请参阅[插件方法参考](./plugin-methods/README.mdx)。

```js title="docusaurus.config.js"
export default {
  plugins: [
    'docusaurus-plugin-awesome',
    ['docusuarus-plugin-confetti', {fancy: false}],
    () => ({
      postBuild() {
        console.log('Build finished');
      },
    }),
  ],
};
```

### `themes` {#themes}

- 类型: `PluginConfig[]`

```js title="docusaurus.config.js"
export default {
  themes: ['@docusaurus/theme-classic'],
};
```

### `presets` {#presets}

- 类型: `PresetConfig[]`

```ts
type PresetConfig = string | [string, any];
```

```js title="docusaurus.config.js"
export default {
  presets: [],
};
```

### `markdown` {#markdown}

全局 Docusaurus Markdown 配置。

- 类型: `MarkdownConfig`

```ts
type MarkdownPreprocessor = (args: {
  filePath: string;
  fileContent: string;
}) => string;

type MDX1CompatOptions =
  | boolean
  | {
      comments: boolean;
      admonitions: boolean;
      headingIds: boolean;
    };

export type ParseFrontMatter = (params: {
  filePath: string;
  fileContent: string;
  defaultParseFrontMatter: ParseFrontMatter;
}) => Promise<{
  frontMatter: {[key: string]: unknown};
  content: string;
}>;

type MarkdownAnchorsConfig = {
  maintainCase: boolean;
};

type OnBrokenMarkdownLinksFunction = (params: {
  sourceFilePath: string; // MD/MDX source file relative to cwd
  url: string; // Link url
  node: Link | Definition; // mdast Node
}) => void | string;

type OnBrokenMarkdownImagesFunction = (params: {
  sourceFilePath: string; // MD/MDX source file relative to cwd
  url: string; // Image url
  node: Image; // mdast node
}) => void | string;

type ReportingSeverity = 'ignore' | 'log' | 'warn' | 'throw';

type MarkdownHooks = {
  onBrokenMarkdownLinks: ReportingSeverity | OnBrokenMarkdownLinksFunction;
  onBrokenMarkdownImages: ReportingSeverity | OnBrokenMarkdownImagesFunction;
};

type MarkdownConfig = {
  format: 'mdx' | 'md' | 'detect';
  mermaid: boolean;
  emoji: boolean;
  preprocessor?: MarkdownPreprocessor;
  parseFrontMatter?: ParseFrontMatter;
  mdx1Compat: MDX1CompatOptions;
  remarkRehypeOptions: object; // see https://github.com/remarkjs/remark-rehype#options
  anchors: MarkdownAnchorsConfig;
  hooks: MarkdownHooks;
};
```

示例：

```js title="docusaurus.config.js"
export default {
  markdown: {
    format: 'mdx',
    mermaid: true,
    emoji: true,
    preprocessor: ({filePath, fileContent}) => {
      return fileContent.replaceAll('{{MY_VAR}}', 'MY_VALUE');
    },
    parseFrontMatter: async (params) => {
      const result = await params.defaultParseFrontMatter(params);
      result.frontMatter.description =
        result.frontMatter.description?.replaceAll('{{MY_VAR}}', 'MY_VALUE');
      return result;
    },
    mdx1Compat: {
      comments: true,
      admonitions: true,
      headingIds: true,
    },
    anchors: {
      maintainCase: true,
    },
    hooks: {
      onBrokenMarkdownLinks: 'warn',
      onBrokenMarkdownImages: 'throw',
    },
  },
};
```

```mdx-code-block
<APITable>
```

| 名称 | 类型 | 默认值 | 描述 |
| --- | --- | --- | --- |
| `format` | `'mdx' \| 'md' \| 'detect'` | `'mdx'` | 用于 Markdown 内容的默认解析器格式。使用 'detect' 将根据文件扩展名（`.md` vs `.mdx`）自动选择适当的格式。 |
| `mermaid` | `boolean` | `false` | 当为 `true` 时，允许 Docusaurus 将带有 `mermaid` 语言的 Markdown 代码块渲染为 Mermaid 图表。 |
| `emoji` | `boolean` | `true` | 当为 `true` 时，允许 Docusaurus 将表情符号短代码（例如，`:+1:`）渲染为 Unicode 表情符号（👍）。当为 `false` 时，表情符号短代码保持原样。 |
| `preprocessor` | `MarkdownPreprocessor` | `undefined` | 让你能够在解析之前更改 Markdown 内容字符串。将其用作最后的应急方案或变通方法：实现 Remark/Rehype 插件几乎总是更好的选择。 |
| `parseFrontMatter` | `ParseFrontMatter` | `undefined` | 让你能够提供自己的 front matter 解析器，或增强默认解析器。有关详细信息，请阅读我们的[front matter 指南](../guides/markdown-features/markdown-features-intro.mdx#front-matter)。 |
| `mdx1Compat` | `MDX1CompatOptions` | `{comments: true, admonitions: true, headingIds: true}` | 兼容性选项，使升级到 Docusaurus v3+ 更容易。 |
| `anchors` | `MarkdownAnchorsConfig` | `{maintainCase: false}` | 控制从 Markdown 标题生成的锚点行为的选项 |
| `remarkRehypeOptions` | `object` | `undefined` | 可以传递自定义的 [`remark-rehype` 选项](https://github.com/remarkjs/remark-rehype#options)。 |
| `hooks` | `MarkdownHooks` | `object` | 可以通过回调或内置选项自定义 MDX 加载器的行为。 |
| `hooks.onBrokenMarkdownLinks` | `ReportingSeverity \| OnBrokenMarkdownLinksFunction` | `'warn'` | 用于在遇到损坏的 Markdown 链接 URL 时自定义行为的钩子。通过回调函数，你可以返回一个新的链接 URL，或更改链接的 [mdast 节点](https://github.com/syntax-tree/mdast)。 |
| `hooks.onBrokenMarkdownImages` | `ReportingSeverity \| OnBrokenMarkdownImagesFunction` | `'throw'` | 用于在遇到损坏的 Markdown 图片 URL 时自定义行为的钩子。通过回调函数，你可以返回一个新的图片 URL，或更改图片的 [mdast 节点](https://github.com/syntax-tree/mdast)。 |

```mdx-code-block
</APITable>
```

### `customFields` {#customFields}

Docusaurus 会保护 `docusaurus.config.js` 免受未知字段的影响。要添加自定义字段，请在 `customFields` 上定义它。

- 类型: `Object`

```js title="docusaurus.config.js"
export default {
  customFields: {
    admin: 'endi',
    superman: 'lol',
  },
};
```

尝试在配置中添加未知字段将在构建时导致错误：

```bash
Error: The field(s) 'foo', 'bar' are not recognized in docusaurus.config.js
```

### `staticDirectories` {#staticDirectories}

一个路径数组，相对于网站目录或绝对路径。这些路径下的文件将被原样复制到构建输出中。

- 类型: `string[]`

示例：

```js title="docusaurus.config.js"
export default {
  staticDirectories: ['static'],
};
```

### `headTags` {#headTags}

一个将插入到 HTML `<head>` 中的标签数组。值必须是包含两个属性的对象；`tagName` 和 `attributes`。`tagName` 必须是确定要创建的标签的字符串；例如 `"link"`。`attributes` 必须是属性-值映射。

- 类型: `{ tagName: string; attributes: Object; }[]`

示例：

```js title="docusaurus.config.js"
export default {
  headTags: [
    {
      tagName: 'link',
      attributes: {
        rel: 'icon',
        href: '/img/docusaurus.png',
      },
    },
  ],
};
```

这在生成的 HTML 中会变成 `<link rel="icon" href="img/docusaurus.png" />`。

### `scripts` {#scripts}

一个要加载的脚本数组。值可以是字符串或属性-值映射的普通对象。`<script>` 标签将被插入到 HTML `<head>` 中。如果使用普通对象，唯一必需的属性是 `src`，并允许任何其他属性（每个属性都应具有布尔/字符串值）。

请注意，此处添加的 `<script>` 是渲染阻塞的，因此你可能需要向对象添加 `async: true`/`defer: true`。

- 类型: `(string | Object)[]`

示例：

```js title="docusaurus.config.js"
export default {
  scripts: [
    // 字符串格式。
    'https://docusaurus.io/script.js',
    // 对象格式。
    {
      src: 'https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js',
      async: true,
    },
  ],
};
```

### `stylesheets` {#stylesheets}

一个要加载的 CSS 源数组。值可以是字符串或属性-值映射的普通对象。`<link>` 标签将被插入到 HTML `<head>` 中。如果使用对象，唯一必需的属性是 `href`，并允许任何其他属性（每个属性都应具有布尔/字符串值）。

- 类型: `(string | Object)[]`

示例：

```js title="docusaurus.config.js"
export default {
  stylesheets: [
    // 字符串格式。
    'https://docusaurus.io/style.css',
    // 对象格式。
    {
      href: 'http://mydomain.com/style.css',
    },
  ],
};
```

:::info

默认情况下，`<link>` 标签将具有 `rel="stylesheet"`，但你可以明确添加自定义的 `rel` 值来注入任何类型的 `<link>` 标签，不一定是样式表。

:::

### `clientModules` {#clientModules}

一个在你的网站上全局加载的[客户端模块](../advanced/client.mdx#client-modules)数组。

示例：

```js title="docusaurus.config.js"
export default {
  clientModules: ['./mySiteGlobalJs.js', './mySiteGlobalCss.css'],
};
```

### `ssrTemplate` {#ssrTemplate}

一个用 [Eta 语法](https://eta.js.org/docs/syntax#syntax-overview)编写的 HTML 模板，将用于渲染你的应用程序。这可用于在 `body` 标签上设置自定义属性、附加的 `meta` 标签、自定义 `viewport` 等。请注意，Docusaurus 将依赖于正确结构的模板才能正常运行，一旦你对其进行自定义，就必须确保你的模板符合上游的要求。

- 类型: `string`

示例：

```js title="docusaurus.config.js"
export default {
  ssrTemplate: `<!DOCTYPE html>
<html <%~ it.htmlAttributes %>>
  <head>
    <meta charset="UTF-8">
    <meta name="generator" content="Docusaurus v<%= it.version %>">
    <% it.metaAttributes.forEach((metaAttribute) => { %>
      <%~ metaAttribute %>
    <% }); %>
    <%~ it.headTags %>
    <% it.stylesheets.forEach((stylesheet) => { %>
      <link rel="stylesheet" href="<%= it.baseUrl %><%= stylesheet %>" />
    <% }); %>
    <% it.scripts.forEach((script) => { %>
      <link rel="preload" href="<%= it.baseUrl %><%= script %>" as="script">
    <% }); %>
  </head>
  <body <%~ it.bodyAttributes %>>
    <%~ it.preBodyTags %>
    <div id="__docusaurus">
      <%~ it.appHtml %>
    </div>
    <% it.scripts.forEach((script) => { %>
      <script src="<%= it.baseUrl %><%= script %>"></script>
    <% }); %>
    <%~ it.postBodyTags %>
  </body>
</html>`,
};
```

### `titleDelimiter` {#titleDelimiter}

- 类型: `string`

将用作生成的 `<title>` 标签中的标题分隔符。

示例：

```js title="docusaurus.config.js"
export default {
  titleDelimiter: '🦖', // 默认为 `|`
};
```

### `baseUrlIssueBanner` {#baseUrlIssueBanner}

- 类型: `boolean`

启用后，如果你的网站无法加载其 CSS 或 JavaScript 文件，将显示一个横幅，这是一个非常常见的问题，通常与网站配置中错误的 `baseUrl` 有关。

示例：

```js title="docusaurus.config.js"
export default {
  baseUrlIssueBanner: true, // 默认为 `true`
};
```

![一个基础 URL 问题横幅的示例。由于样式表加载失败，样式非常原始。文本内容为“你的 Docusaurus 网站未正确加载... 当前配置的 baseUrl = / (默认值)；我们建议尝试 baseUrl = /build/](/img/baseUrlIssueBanner.png)

:::warning

此横幅需要在因错误的 base URL 导致所有资源加载失败时内联 CSS / JS。

如果你有严格的[内容安全策略](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP)，则应禁用它。

:::
