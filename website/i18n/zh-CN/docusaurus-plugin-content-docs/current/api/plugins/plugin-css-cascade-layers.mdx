---
title: plugin-css-cascade-layers
sidebar_label: plugin-css-cascade-layers
sidebar_position: 9
slug: /api/plugins/@docusaurus/plugin-css-cascade-layers
---

# ğŸ“¦ plugin-css-cascade-layers

import APITable from '@site/src/components/APITable';

:::caution å®éªŒæ€§

æ­¤æ’ä»¶ä¸»è¦è®¾è®¡ä¸ºé€šè¿‡ [Docusaurus `future.v4.useCssCascadeLayers` æ ‡å¿—](../docusaurus.config.js.mdx#future)ç”±ç»å…¸é¢„è®¾å†…éƒ¨ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿå¯ä»¥ä½œä¸ºç‹¬ç«‹æ’ä»¶ä½¿ç”¨ã€‚å¦‚æœä½ æœ‰ä½¿ç”¨åœºæ™¯ï¼Œè¯·[åœ¨æ­¤å¤„å‘ŠçŸ¥æˆ‘ä»¬](https://github.com/facebook/docusaurus/pull/11142)ï¼Œå¹¶å¸®åŠ©æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªå¯¹ Docusaurus æœªæ¥æœ‰æ„ä¹‰çš„ APIã€‚

:::

ä¸€ä¸ªç”¨äºå°†ä½ çš„ Docusaurus ç½‘ç«™çš„ CSS æ¨¡å—åŒ…è£…åœ¨ [CSS çº§è”å±‚](https://css-tricks.com/css-cascade-layers/)ä¸­çš„æ’ä»¶ã€‚è¿™ä¸ªç°ä»£ CSS åŠŸèƒ½å¾—åˆ°äº†æ‰€æœ‰æµè§ˆå™¨çš„å¹¿æ³›æ”¯æŒã€‚å®ƒå…è®¸å°† CSS è§„åˆ™åˆ†ç»„åˆ°ä¸åŒç‰¹å¼‚æ€§çš„å±‚ä¸­ï¼Œè®©ä½ å¯¹ CSS çº§è”æœ‰æ›´å¤šçš„æ§åˆ¶ã€‚

ä½¿ç”¨æ­¤æ’ä»¶å¯ä»¥ï¼š

- åœ¨ä»»ä½• CSS æ¨¡å—å‘¨å›´åº”ç”¨ä¸€ä¸ªé¡¶çº§çš„ `@layer myLayer { ... }` å—è§„åˆ™ï¼ŒåŒ…æ‹¬æœªåˆ†å±‚çš„ç¬¬ä¸‰æ–¹ CSSã€‚
- å®šä¹‰ä¸€ä¸ªæ˜ç¡®çš„å±‚é¡ºåº

:::caution

è¦æ­£ç¡®ä½¿ç”¨æ­¤æ’ä»¶ï¼Œå»ºè®®å¯¹ [CSS çº§è”å±‚](https://css-tricks.com/css-cascade-layers/)ã€[CSS çº§è”](https://developer.mozilla.org/docs/Web/CSS/CSS_cascade/Cascade)å’Œ[ç‰¹å¼‚æ€§](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_cascade/Specificity)æœ‰æ·±å…¥çš„äº†è§£ã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-css-cascade-layers
```

:::tip

å¦‚æœä½ ä½¿ç”¨é¢„è®¾ `@docusaurus/preset-classic`ï¼Œæ­¤æ’ä»¶ä¼šé€šè¿‡ [`siteConfig.future.v4.useCssCascadeLayers`](../docusaurus.config.js.mdx#future) æ ‡å¿—ä¸ºä½ è‡ªåŠ¨é…ç½®ã€‚

:::

## é…ç½® {#configuration}

æ¥å—çš„å­—æ®µï¼š

```mdx-code-block
<APITable>
```

| åç§° | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
| --- | --- | --- | --- |
| `layers` | `Layers` | **å†…ç½®å±‚** | ä¸€ä¸ªè¡¨ç¤ºä½ æƒ³è¦ä½¿ç”¨çš„æ‰€æœ‰ CSS çº§è”å±‚çš„å¯¹è±¡ï¼Œä»¥åŠè¯¥å±‚æ˜¯å¦åº”åº”ç”¨äºç»™å®šçš„æ–‡ä»¶è·¯å¾„ã€‚è¯·å‚é˜…ä¸‹é¢çš„ç¤ºä¾‹å’Œç±»å‹ã€‚ |

```mdx-code-block
</APITable>
```

### ç±»å‹ {#types}

#### `Layers` {#EditUrlFunction}

```ts
type Layers = Record<
  string, // layer name
  (filePath: string) => boolean // layer matcher
>;
```

`layers` å¯¹è±¡ç”±ä»¥ä¸‹å†…å®¹å®šä¹‰ï¼š

- é”®ï¼šå±‚çš„åç§°
- å€¼ï¼šä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå®šä¹‰ç»™å®šçš„ CSS æ¨¡å—æ–‡ä»¶æ˜¯å¦åº”åœ¨è¯¥å±‚ä¸­

:::caution é¡ºåºå¾ˆé‡è¦

å¯¹è±¡é¡ºåºå¾ˆé‡è¦ï¼š

- é”®çš„é¡ºåºå®šä¹‰äº†ä¸€ä¸ªæ˜ç¡®çš„ CSS å±‚é¡ºåº
- å½“å¤šä¸ªå±‚åŒ¹é…ä¸€ä¸ªæ–‡ä»¶è·¯å¾„æ—¶ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªå±‚ä¼šåº”ç”¨

:::

### ç¤ºä¾‹é…ç½® {#ex-config}

ä½ å¯ä»¥é€šè¿‡æ’ä»¶é€‰é¡¹é…ç½®æ­¤æ’ä»¶ã€‚

```js
const options = {
  layers: {
    'docusaurus.infima': (filePath) =>
      filePath.includes('/node_modules/infima/dist'),
    'docusaurus.theme-classic': (filePath) =>
      filePath.includes('/node_modules/@docusaurus/theme-classic/lib'),
  },
};
```
