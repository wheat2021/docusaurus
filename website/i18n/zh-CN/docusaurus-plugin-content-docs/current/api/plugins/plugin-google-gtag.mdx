---
title: plugin-google-gtag
sidebar_label: plugin-google-gtag
sidebar_position: 7
slug: /api/plugins/@docusaurus/plugin-google-gtag
---

# 📦 plugin-google-gtag

import APITable from '@site/src/components/APITable';

默认的[全局网站代码 (gtag.js)](https://developers.google.com/tag-platform/gtagjs) 插件。它是一个 JavaScript 标记框架和 API，允许你向 Google Analytics、Google Ads 和 Google Marketing Platform 发送事件数据。本节介绍如何配置 Docusaurus 网站以启用 Google Analytics 的全局网站代码。

:::tip

你可以使用 [Google 的 Tag Assistant](https://tagassistant.google.com/) 工具来检查你的 gtag 是否设置正确！

:::

:::warning 仅限生产环境

此插件在开发中始终处于非活动状态，**仅在生产环境中活动**，以避免污染分析统计数据。

:::

## 安装 {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-google-gtag
```

:::tip

如果你使用预设 `@docusaurus/preset-classic`，则无需将此插件作为依赖项安装。

你可以通过[预设选项](../../using-plugins.mdx#docusauruspreset-classic)配置此插件。

:::

## 配置 {#configuration}

接受的字段：

```mdx-code-block
<APITable>
```

| 名称 | 类型 | 默认值 | 描述 |
| --- | --- | --- | --- |
| `trackingID` | <code>string \| string[]</code> | **必填** | 你的 gtag 服务的跟踪 ID。可以提供多个 ID。 |
| `anonymizeIP` | `boolean` | `false` | 发送请求时是否应对 IP 进行匿名化处理。 |

```mdx-code-block
</APITable>
```

### 示例配置 {#ex-config}

你可以通过预设选项或插件选项来配置此插件。

:::tip

大多数 Docusaurus 用户通过预设选项配置此插件。

:::

```js config-tabs
// 预设选项：gtag
// 插件选项：@docusaurus/plugin-google-gtag

const config = {
  trackingID: 'G-999X9XX9XX',
  anonymizeIP: true,
};
```
