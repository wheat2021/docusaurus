---
sidebar_position: 10
slug: /api/plugins/@docusaurus/plugin-sitemap
---

# ğŸ“¦ plugin-sitemap

import APITable from '@site/src/components/APITable';

è¯¥æ’ä»¶ä¸ºä½ çš„ç½‘ç«™åˆ›å»ºç«™ç‚¹åœ°å›¾ï¼Œä»¥ä¾¿æœç´¢å¼•æ“çˆ¬è™«èƒ½æ›´å‡†ç¡®åœ°æŠ“å–ä½ çš„ç½‘ç«™ã€‚

:::warning ä»…é™ç”Ÿäº§ç¯å¢ƒ

è¯¥æ’ä»¶åœ¨å¼€å‘ç¯å¢ƒä¸­å§‹ç»ˆå¤„äºéæ´»åŠ¨çŠ¶æ€ï¼Œ**ä»…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ¿€æ´»**ï¼Œå› ä¸ºå®ƒä½œç”¨äºæ„å»ºè¾“å‡ºã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-sitemap
```

:::tip

å¦‚æœä½ ä½¿ç”¨é¢„è®¾ `@docusaurus/preset-classic`ï¼Œåˆ™æ— éœ€å°†æ­¤æ’ä»¶ä½œä¸ºä¾èµ–é¡¹å®‰è£…ã€‚

ä½ å¯ä»¥é€šè¿‡[é¢„è®¾é€‰é¡¹](../../using-plugins.mdx#docusauruspreset-classic)é…ç½®æ­¤æ’ä»¶ã€‚

:::

## é…ç½® {#configuration}

æ¥å—çš„å­—æ®µï¼š

```mdx-code-block
<APITable>
```

| åç§° | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
| --- | --- | --- | --- |
| `lastmod` | `'date' \| 'datetime' \| null` | `null` | `date` æ˜¯ YYYY-MM-DDã€‚ `datetime` æ˜¯ ISO 8601 æ—¥æœŸæ—¶é—´ã€‚ `null` è¡¨ç¤ºç¦ç”¨ã€‚å‚è§[ç«™ç‚¹åœ°å›¾æ–‡æ¡£](https://www.sitemaps.org/protocol.html#xmlTagDefinitions)ã€‚ |
| `changefreq` | `string \| null` | `'weekly'` | å‚è§[ç«™ç‚¹åœ°å›¾æ–‡æ¡£](https://www.sitemaps.org/protocol.html#xmlTagDefinitions) |
| `priority` | `number \| null` | `0.5` | å‚è§[ç«™ç‚¹åœ°å›¾æ–‡æ¡£](https://www.sitemaps.org/protocol.html#xmlTagDefinitions) |
| `ignorePatterns` | `string[]` | `[]` | ä¸€ä¸ª glob æ¨¡å¼åˆ—è¡¨ï¼›åŒ¹é…çš„è·¯ç”±è·¯å¾„å°†ä»ç«™ç‚¹åœ°å›¾ä¸­è¿‡æ»¤æ‰ã€‚è¯·æ³¨æ„ï¼Œä½ å¯èƒ½éœ€è¦åœ¨æ­¤å¤„åŒ…å«åŸºæœ¬ URLã€‚ |
| `filename` | `string` | `sitemap.xml` | åˆ›å»ºçš„ç«™ç‚¹åœ°å›¾æ–‡ä»¶çš„è·¯å¾„ï¼Œç›¸å¯¹äºè¾“å‡ºç›®å½•ã€‚å½“ä½ æœ‰ä¸¤ä¸ªæ’ä»¶å®ä¾‹è¾“å‡ºä¸¤ä¸ªæ–‡ä»¶æ—¶å¾ˆæœ‰ç”¨ã€‚ |
| `createSitemapItems` | <code>[CreateSitemapItemsFn](#CreateSitemapItemsFn) \| undefined</code> | `undefined` | ä¸€ä¸ªå¯é€‰å‡½æ•°ï¼Œå¯ç”¨äºè½¬æ¢å’Œ/æˆ–è¿‡æ»¤ç«™ç‚¹åœ°å›¾ä¸­çš„é¡¹ç›®ã€‚ |

```mdx-code-block
</APITable>
```

### ç±»å‹ {#types}

#### `CreateSitemapItemsFn` {#CreateSitemapItemsFn}

```ts
type CreateSitemapItemsFn = (params: {
  siteConfig: DocusaurusConfig;
  routes: RouteConfig[];
  defaultCreateSitemapItems: CreateSitemapItemsFn;
}) => Promise<SitemapItem[]>;
```

:::info

è¯¥æ’ä»¶è¿˜éµå¾ªä¸€äº›ç½‘ç«™é…ç½®ï¼š

- [`noIndex`](../docusaurus.config.js.mdx#noIndex)ï¼šå¯¼è‡´ä¸ç”Ÿæˆç«™ç‚¹åœ°å›¾
- [`trailingSlash`](../docusaurus.config.js.mdx#trailingSlash)ï¼šå†³å®šç«™ç‚¹åœ°å›¾ä¸­çš„ URL æ˜¯å¦æœ‰å°¾éƒ¨æ–œæ 

:::

:::note å…³äº `lastmod`

åªæœ‰å½“æ’ä»¶æä¾›[è·¯ç”±å…ƒæ•°æ®](../plugin-methods/lifecycle-apis.mdx#addRoute)çš„ `sourceFilePath` å’Œ/æˆ– `lastUpdatedAt` å±æ€§æ—¶ï¼Œ`lastmod` é€‰é¡¹æ‰ä¼šè¾“å‡ºç«™ç‚¹åœ°å›¾çš„ `<lastmod>` æ ‡ç­¾ã€‚

æ‰€æœ‰å®˜æ–¹å†…å®¹æ’ä»¶éƒ½ä¸ºç”±å†…å®¹æ–‡ä»¶ï¼ˆMarkdownã€MDX æˆ– React é¡µé¢ç»„ä»¶ï¼‰æ”¯æŒçš„è·¯ç”±æä¾›å…ƒæ•°æ®ï¼Œä½†ç¬¬ä¸‰æ–¹æ’ä»¶ä½œè€…å¯èƒ½ä¸æä¾›æ­¤ä¿¡æ¯ï¼Œè¯¥æ’ä»¶å°†æ— æ³•ä¸ºä»–ä»¬çš„è·¯ç”±è¾“å‡º `<lastmod>` æ ‡ç­¾ã€‚

:::

### é…ç½®ç¤ºä¾‹ {#ex-config}

ä½ å¯ä»¥é€šè¿‡é¢„è®¾é€‰é¡¹æˆ–æ’ä»¶é€‰é¡¹æ¥é…ç½®æ­¤æ’ä»¶ã€‚

:::tip

å¤§å¤šæ•° Docusaurus ç”¨æˆ·é€šè¿‡é¢„è®¾é€‰é¡¹é…ç½®æ­¤æ’ä»¶ã€‚

:::

```js config-tabs
// é¢„è®¾é€‰é¡¹: sitemap
// æ’ä»¶é€‰é¡¹: @docusaurus/plugin-sitemap

const config = {
  lastmod: 'date',
  changefreq: 'weekly',
  priority: 0.5,
  ignorePatterns: ['/tags/**'],
  filename: 'sitemap.xml',
  createSitemapItems: async (params) => {
    const {defaultCreateSitemapItems, ...rest} = params;
    const items = await defaultCreateSitemapItems(rest);
    return items.filter((item) => !item.url.includes('/page/'));
  },
};
```

ä½ å¯ä»¥åœ¨ `/sitemap.xml` æ‰¾åˆ°ä½ çš„ç«™ç‚¹åœ°å›¾ã€‚
