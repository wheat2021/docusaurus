---
title: plugin-client-redirects
sidebar_label: plugin-client-redirects
sidebar_position: 4
slug: /api/plugins/@docusaurus/plugin-client-redirects
---

# ğŸ“¦ plugin-client-redirects

import APITable from '@site/src/components/APITable';

ç”¨äºç”Ÿæˆ**å®¢æˆ·ç«¯é‡å®šå‘**çš„ Docusaurus æ’ä»¶ã€‚

æ­¤æ’ä»¶ä¼šå‘ä½ çš„é™æ€ç«™ç‚¹å†™å…¥é¢å¤–çš„ HTML é¡µé¢ï¼Œè¿™äº›é¡µé¢ä½¿ç”¨ JavaScript å°†ç”¨æˆ·é‡å®šå‘åˆ°ä½ ç°æœ‰çš„ Docusaurus é¡µé¢ã€‚

:::warning ä»…é™ç”Ÿäº§ç¯å¢ƒ

æ­¤æ’ä»¶åœ¨å¼€å‘ä¸­å§‹ç»ˆå¤„äºéæ´»åŠ¨çŠ¶æ€ï¼Œ**ä»…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ´»åŠ¨**ï¼Œå› ä¸ºå®ƒä½œç”¨äºæ„å»ºè¾“å‡ºã€‚

:::

:::warning

å°½å¯èƒ½ä½¿ç”¨æœåŠ¡ç«¯é‡å®šå‘æ›´å¥½ã€‚

åœ¨ä½¿ç”¨æ­¤æ’ä»¶ä¹‹å‰ï¼Œä½ åº”è¯¥æ£€æŸ¥ä½ çš„æ‰˜ç®¡æœåŠ¡æä¾›å•†æ˜¯å¦ä¸æä¾›æ­¤åŠŸèƒ½ã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-client-redirects
```

## é…ç½® {#configuration}

æ¥å—çš„å­—æ®µï¼š

```mdx-code-block
<APITable>
```

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
| --- | --- | --- | --- |
| `fromExtensions` | `string[]` | `[]` | é‡å®šå‘åè¦ä»è·¯ç”±ä¸­ç§»é™¤çš„æ‰©å±•åã€‚ |
| `toExtensions` | `string[]` | `[]` | é‡å®šå‘åè¦é™„åŠ åˆ°è·¯ç”±çš„æ‰©å±•åã€‚ |
| `redirects` | <code>[RedirectRule](#RedirectRule)[]</code> | `[]` | é‡å®šå‘è§„åˆ™åˆ—è¡¨ã€‚ |
| `createRedirects` | <code>[CreateRedirectsFn](#CreateRedirectsFn)</code> | `undefined` | ä¸€ä¸ªç”¨äºåˆ›å»ºé‡å®šå‘è§„åˆ™çš„å›è°ƒã€‚Docusaurus ä¼šé’ˆå¯¹å®ƒåˆ›å»ºçš„æ¯ä¸ªè·¯å¾„æŸ¥è¯¢æ­¤å›è°ƒï¼Œå¹¶ä½¿ç”¨å…¶è¿”å›å€¼è¾“å‡ºæ›´å¤šè·¯å¾„ã€‚ |

```mdx-code-block
</APITable>
```

:::note

å½“å¤šä¸ªæ–‡ä»¶å°†è¢«è¾“å‡ºåˆ°åŒä¸€ä½ç½®æ—¶ï¼Œæ­¤æ’ä»¶è¿˜å°†è¯»å– [`siteConfig.onDuplicateRoutes`](../docusaurus.config.js.mdx#onDuplicateRoutes) é…ç½®ä»¥è°ƒæ•´å…¶æ—¥å¿—è®°å½•çº§åˆ«ã€‚

:::

### ç±»å‹ {#types}

#### `RedirectRule` {#RedirectRule}

```ts
type RedirectRule = {
  to: string;
  from: string | string[];
};
```

:::note

â€œfromâ€ å’Œ â€œtoâ€ çš„æ¦‚å¿µåœ¨æ­¤æ’ä»¶ä¸­è‡³å…³é‡è¦ã€‚â€œFromâ€ æŒ‡çš„æ˜¯ä½ æƒ³è¦_åˆ›å»º_çš„è·¯å¾„ï¼Œå³ä¸€ä¸ªå°†è¢«å†™å…¥çš„é¢å¤– HTML æ–‡ä»¶ï¼›â€œtoâ€ æŒ‡çš„æ˜¯ä½ æƒ³è¦é‡å®šå‘_åˆ°_çš„è·¯å¾„ï¼Œé€šå¸¸æ˜¯ Docusaurus å·²çŸ¥çš„è·¯ç”±ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¯ä»¥ä¸ºåŒä¸€ä¸ªâ€œtoâ€è®¾ç½®å¤šä¸ªâ€œfromâ€ï¼šæˆ‘ä»¬å°†åˆ›å»ºå¤šä¸ªéƒ½é‡å®šå‘åˆ°åŒä¸€ç›®çš„åœ°çš„ HTML æ–‡ä»¶ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ªâ€œfromâ€æ°¸è¿œä¸èƒ½æœ‰å¤šä¸ªâ€œtoâ€ï¼šå†™å…¥çš„ HTML æ–‡ä»¶éœ€è¦æœ‰ä¸€ä¸ªç¡®å®šçš„ç›®çš„åœ°ã€‚

:::

#### `CreateRedirectsFn` {#CreateRedirectsFn}

```ts
// å‚æ•° `path` æ˜¯ Docusaurus å·²åˆ›å»ºçš„è·¯ç”±ã€‚å®ƒå¯ä»¥
// è¢«è§†ä¸ºâ€œtoâ€ï¼Œä½ çš„è¿”å›å€¼æ˜¯â€œfromâ€ã€‚è¿”å›ä¸€ä¸ªå‡å€¼
// å°†ä¸ä¼šä¸ºæ­¤ç‰¹å®šè·¯å¾„åˆ›å»ºä»»ä½•é‡å®šå‘é¡µé¢ã€‚
type CreateRedirectsFn = (path: string) => string[] | string | null | undefined;
```

### ç¤ºä¾‹é…ç½® {#ex-config}

è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š

```js title="docusaurus.config.js"
export default {
  plugins: [
    [
      '@docusaurus/plugin-client-redirects',
      // highlight-start
      {
        fromExtensions: ['html', 'htm'], // /myPage.html -> /myPage
        toExtensions: ['exe', 'zip'], // /myAsset -> /myAsset.zip (å¦‚æœåè€…å­˜åœ¨)
        redirects: [
          // /docs/oldDoc -> /docs/newDoc
          {
            to: '/docs/newDoc',
            from: '/docs/oldDoc',
          },
          // ä»å¤šä¸ªæ—§è·¯å¾„é‡å®šå‘åˆ°æ–°è·¯å¾„
          {
            to: '/docs/newDoc2',
            from: ['/docs/oldDocFrom2019', '/docs/legacyDocFrom2016'],
          },
        ],
        createRedirects(existingPath) {
          if (existingPath.includes('/community')) {
            // ä» /docs/team/X é‡å®šå‘åˆ° /community/X ä»¥åŠä» /docs/support/X é‡å®šå‘åˆ° /community/X
            return [
              existingPath.replace('/community', '/docs/team'),
              existingPath.replace('/community', '/docs/support'),
            ];
          }
          return undefined; // è¿”å›ä¸€ä¸ªå‡å€¼ï¼šä¸åˆ›å»ºé‡å®šå‘
        },
      },
      // highlight-end
    ],
  ],
};
```
