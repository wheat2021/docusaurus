---
slug: /sidebar
---

# 侧边栏

创建一个侧边栏对于以下方面很有用：

- 将多个**相关文档**组织成一个有序的树状结构
- 在每个文档上**显示一个共同的侧边栏**
- 提供**分页导航**，带有下一个/上一个按钮

要在您的 Docusaurus 网站上使用侧边栏：

1. 定义一个导出[侧边栏对象](#sidebar-object)字典的侧边栏文件。
2. 将其路径直接传递给 `@docusaurus/plugin-docs` 插件，或通过 `@docusaurus/preset-classic` 传递。

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          sidebarPath: './sidebars.js',
        },
      },
    ],
  ],
};
```

:::important Node.js 运行时

侧边栏文件是在 Node.js 中运行的。您不能在其中使用或导入浏览器 API、React 或 JSX。

:::

本节概述了文档侧边栏的各种功能。在接下来的部分中，我们将更系统地介绍以下概念：

```mdx-code-block
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

## 默认侧边栏 {#default-sidebar}

如果未指定 `sidebarPath`，Docusaurus 会通过使用 `docs` 文件夹的文件系统结构为您[自动生成一个侧边栏](autogenerated.mdx)：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // 从 docs 文件夹（或 versioned_docs/<version>）生成侧边栏
    },
  ],
};
```

您也可以明确定义您的侧边栏。

## 侧边栏对象 {#sidebar-object}

侧边栏是分类、文档链接和其他超链接的层次结构。

```ts
type Sidebar =
  // 普通语法
  | SidebarItem[]
  // 简写语法
  | {[categoryLabel: string]: SidebarItem[]};
```

例如：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'category',
      label: '入门',
      items: [
        {
          type: 'doc',
          id: 'doc1',
        },
      ],
    },
    {
      type: 'category',
      label: 'Docusaurus',
      items: [
        {
          type: 'doc',
          id: 'doc2',
        },
        {
          type: 'doc',
          id: 'doc3',
        },
      ],
    },
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

这是一个导出一个名为 `mySidebar` 的侧边栏的侧边栏文件。它有三个顶级项目：两个分类和一个外部链接。每个分类内部有几个文档链接。

一个侧边栏文件可以包含[**多个侧边栏对象**](multiple-sidebars.mdx)，通过它们的对象键来标识。

```ts
type SidebarsFile = {
  [sidebarID: string]: Sidebar;
};
```

## 主题配置 {#theme-configuration}

### 可隐藏的侧边栏 {#hideable-sidebar}

通过启用 `themeConfig.docs.sidebar.hideable` 选项，您可以使整个侧边栏可隐藏，从而让用户更好地专注于内容。这在内容在中等尺寸屏幕（如平板电脑）上消费时尤其有用。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        hideable: true,
      },
    },
    // highlight-end
  },
};
```

### 自动折叠侧边栏分类 {#auto-collapse-sidebar-categories}

`themeConfig.docs.sidebar.autoCollapseCategories` 选项会在展开一个分类时折叠所有同级分类。这可以避免用户打开过多的分类，帮助他们专注于所选部分。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        autoCollapseCategories: true,
      },
    },
    // highlight-end
  },
};
```

## 传递 CSS 类 {#passing-css-classes}

要向侧边栏项目传递 CSS 类，请向任何项目添加可选的 `className` 属性。这对于对特定的侧边栏项目应用视觉自定义很有用。

```js
{
  type: 'doc',
  id: 'doc1',
  // highlight-start
  className: 'sidebar-item--highlighted',
  // highlight-end
};
```

## 传递自定义 props {#passing-custom-props}

要向侧边栏项目传递自定义 props，请向任何项目添加可选的 `customProps` 对象。这对于通过 swizzling 渲染侧边栏项目的 React 组件来应用站点自定义很有用。

```js
{
  type: 'doc',
  id: 'doc1',
  // highlight-start
  customProps: {
    badges: ['new', 'green'],
    featured: true,
  },
  // highlight-end
};
```

## 传递唯一键 {#passing-unique-key}

传递一个唯一的 `key` 属性可以帮助唯一标识一个侧边栏项目。有时其他属性（如 `label`）不足以区分两个侧边栏项目。

```js
{
  type: 'category',
  // highlight-start
  label: 'API', // 你可能有多个使用这个广泛标签的分类
  key: 'api-for-feature-1', // 现在，它们可以被唯一地标识
  // highlight-end
};
```

:::info 这有什么用？

Docusaurus 仅使用 `key` 属性来生成唯一的 i18n 翻译键。当发生翻译键冲突时（[问题](https://github.com/facebook/docusaurus/issues/10913)），Docusaurus 会告诉您应用一个 `key` 来区分侧边栏项目。

或者，您可能有自己的理由使用 `key` 属性，它将被传递给相应的侧边栏项目 React 组件。

:::

## 侧边栏面包屑导航 {#sidebar-breadcrumbs}

默认情况下，面包屑导航在顶部渲染，使用当前页面的“侧边栏路径”。

此行为可以通过插件选项禁用：

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          breadcrumbs: false,
        },
      },
    ],
  ],
};
```

## 复杂侧边栏示例 {#complex-sidebars-example}

一个来自 Docusaurus 站点的真实示例：

```mdx-code-block
import CodeBlock from '@theme/CodeBlock';

<CodeBlock language="js" title="sidebars.js">
  {require('!!raw-loader!@site/sidebars.ts')
    .default
    .split('\n')
    // 移除注释
    .map((line) => !['//','/*','*'].some(commentPattern => line.trim().startsWith(commentPattern)) && line)
    .filter(Boolean)
    .join('\n')}
</CodeBlock>
```
