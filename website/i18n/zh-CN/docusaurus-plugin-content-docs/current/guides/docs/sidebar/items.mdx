---
toc_max_heading_level: 4
slug: /sidebar/items
---

# 侧边栏项目

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import BrowserWindow from '@site/src/components/BrowserWindow';
```

侧边栏支持多种项目类型：

- **[文档](#sidebar-item-doc)**：链接到一个文档页面，将其与侧边栏关联
- **[链接](#sidebar-item-link)**：链接到任何内部或外部页面
- **[分类](#sidebar-item-category)**：创建一个侧边栏项目的下拉列表
- **[自动生成](autogenerated.mdx)**：自动生成一个侧边栏切片
- **[HTML](#sidebar-item-html)**：在项目的位置渲染纯 HTML
- **[引用](multiple-sidebars.mdx#sidebar-item-ref)**：链接到一个文档页面，但不让该项目参与导航生成

## 文档：链接到一个文档 {#sidebar-item-doc}

使用 `doc` 类型来链接到一个文档页面，并将该文档分配给一个侧边栏：

```ts
type SidebarItemDoc =
  // 普通语法
  | {
      type: 'doc';
      id: string;
      label: string; // 侧边栏标签文本
      key?: string; // 用于唯一标识项目的侧边栏键
      className?: string; // 侧边栏标签的类名
      customProps?: Record<string, unknown>; // 自定义 props
    }

  // 简写语法
  | string; // docId 快捷方式
```

示例：

```js title="sidebars.js"
export default {
  mySidebar: [
    // 普通语法:
    // highlight-start
    {
      type: 'doc',
      id: 'doc1', // 文档 ID
      label: '入门', // 侧边栏标签
    },
    // highlight-end

    // 简写语法:
    // highlight-start
    'doc2', // 文档 ID
    // highlight-end
  ],
};
```

如果您使用文档简写或[自动生成](autogenerated.mdx)的侧边栏，您将失去通过项目定义来自定义侧边栏标签的能力。但是，您可以在该文档中使用 `sidebar_label` Markdown front matter，它比侧边栏项目中的 `label` 键具有更高的优先级。同样，您可以使用 `sidebar_custom_props` 为文档页面声明自定义元数据。

:::note

一个 `doc` 项目设置了一个[隐式的侧边栏关联](./multiple-sidebars.mdx#sidebar-association)。不要将同一个文档分配给多个侧边栏：请改用 `ref` 类型。

:::

:::tip

侧边栏自定义 props 是将任意文档元数据传播到客户端的有用方式，因此您可以在使用任何获取文档对象的与文档相关的钩子时获得额外信息。

:::

## 链接：链接到任何页面 {#sidebar-item-link}

使用 `link` 类型来链接到任何（内部或外部）不是文档的页面。

```ts
type SidebarItemLink = {
  type: 'link';
  label: string;
  href: string;
  description?: string;
  key?: string;
  className?: string;
  customProps?: Record<string, unknown>;
};
```

示例：

```js title="sidebars.js"
export default {
  myLinksSidebar: [
    // highlight-start
    // 外部链接
    {
      type: 'link',
      label: 'Facebook', // 链接标签
      href: 'https://facebook.com', // 外部 URL
    },
    // highlight-end

    // highlight-start
    // 内部链接
    {
      type: 'link',
      label: '首页', // 链接标签
      href: '/', // 内部路径
    },
    // highlight-end
  ],
};
```

## HTML：渲染自定义标记 {#sidebar-item-html}

使用 `html` 类型在项目的 `<li>` 标签内渲染自定义 HTML。

这对于插入自定义项目（如分隔符、节标题、广告和图像）很有用。

```ts
type SidebarItemHtml = {
  type: 'html';
  value: string;
  defaultStyle?: boolean; // 使用默认菜单项样式
  key?: string;
  className?: string;
  customProps?: Record<string, unknown>;
};
```

示例：

```js title="sidebars.js"
export default {
  myHtmlSidebar: [
    // highlight-start
    {
      type: 'html',
      value: '<img src="sponsor.png" alt="赞助商" />', // 要渲染的 HTML
      defaultStyle: true, // 使用默认菜单项样式
    },
    // highlight-end
  ],
};
```

:::tip

菜单项已经包含在 `<li>` 标签中，因此如果您的自定义项目很简单，例如一个标题，只需提供一个字符串作为值，并使用 `className` 属性来为其设置样式：

```js title="sidebars.js"
export default {
  myHtmlSidebar: [
    {
      type: 'html',
      value: '核心概念',
      className: 'sidebar-title',
    },
  ],
};
```

:::

## 分类：创建层次结构 {#sidebar-item-category}

使用 `category` 类型来创建侧边栏项目的层次结构。

```ts
type SidebarItemCategory = {
  type: 'category';
  label: string; // 侧边栏标签文本。
  items: SidebarItem[]; // 侧边栏项目数组。
  description?: string;
  key?: string;
  className?: string;
  customProps?: Record<string, unknown>;

  // 分类选项：
  collapsible: boolean; // 设置分类为可折叠
  collapsed: boolean; // 设置分类默认是折叠还是展开
  link: SidebarItemCategoryLinkDoc | SidebarItemCategoryLinkGeneratedIndex;
};
```

示例：

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      collapsible: true,
      collapsed: false,
      items: [
        'creating-pages',
        {
          type: 'category',
          label: '文档',
          items: ['introduction', 'sidebar', 'markdown-features', 'versioning'],
        },
      ],
    },
  ],
};
```

:::tip

当您不需要自定义时，请使用[**简写语法**](#category-shorthand)：

```js title="sidebars.js"
export default {
  docs: {
    指南: [
      'creating-pages',
      {
        文档: ['introduction', 'sidebar', 'markdown-features', 'versioning'],
      },
    ],
  },
};
```

:::

### 分类链接 {#category-link}

通过分类链接，点击一个分类可以将您导航到另一个页面。

:::tip

使用分类链接来介绍一个文档分类。

自动生成的分类可以使用 [`_category_.yml`](./autogenerated.mdx#category-item-metadata) 文件来声明链接。

:::

#### 生成的索引页 {#generated-index-page}

您可以自动生成一个索引页，显示此分类的所有直接子项。`slug` 允许您自定义生成的页面的路由，默认为 `/category/[categoryName]`。

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      // highlight-start
      link: {
        type: 'generated-index',
        title: 'Docusaurus 指南',
        description: '了解最重要的 Docusaurus 概念！',
        slug: '/category/docusaurus-guides',
        keywords: ['guides'],
        image: '/img/docusaurus.png',
      },
      // highlight-end
      items: ['pages', 'docs', 'blog', 'search'],
    },
  ],
};
```

在 [Docusaurus 指南页面](/docs/category/guides)上查看实际效果。

:::tip

使用 `generated-index` 链接作为快速获取介绍性文档的方式。

:::

#### 文档链接 {#category-doc-link}

一个分类可以链接到一个现有的文档。

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      // highlight-start
      link: {type: 'doc', id: 'introduction'},
      // highlight-end
      items: ['pages', 'docs', 'blog', 'search'],
    },
  ],
};
```

在 [i18n 介绍页面](../../../i18n/i18n-introduction.mdx)上查看实际效果。

#### 在文档页面中嵌入生成的索引 {#embedding-generated-index-in-doc-page}

您也可以使用 `DocCardList` 组件将生成的卡片列表嵌入到一个普通的文档页面中。它将显示当前文档的父分类的所有侧边栏项目。

```md title="docs/sidebar/index.md"
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

```mdx-code-block
<BrowserWindow>

import DocCardList from '@theme/DocCardList';

<DocCardList />

</BrowserWindow>
```

### 可折叠的分类 {#collapsible-categories}

我们支持展开/折叠分类的选项。分类默认是可折叠的，但您可以通过 `collapsible: false` 禁用折叠。

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      items: [
        'creating-pages',
        {
          type: 'category',
          // highlight-next-line
          collapsible: false,
          label: '文档',
          items: ['introduction', 'sidebar', 'markdown-features', 'versioning'],
        },
      ],
    },
  ],
};
```

要默认使所有分类都不可折叠，请在 `plugin-content-docs` 中将 `sidebarCollapsible` 选项设置为 `false`：

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          sidebarCollapsible: false,
        },
      },
    ],
  ],
};
```

:::note

`sidebars.js` 中的选项优先于插件配置，因此当全局设置 `sidebarCollapsible` 为 `false` 时，仍然可以使某些分类可折叠。

:::

### 默认展开的分类 {#expanded-categories-by-default}

可折叠的分类默认是折叠的。如果您希望它们在首次渲染时展开，可以将 `collapsed` 设置为 `false`：

```js title="sidebars.js"
export default {
  docs: {
    指南: [
      'creating-pages',
      {
        type: 'category',
        label: '文档',
        // highlight-next-line
        collapsed: false,
        items: ['markdown-features', 'sidebar', 'versioning'],
      },
    ],
  },
};
```

与 `collapsible` 类似，您也可以将全局配置 `options.sidebarCollapsed` 设置为 `false`。`sidebars.js` 中的单个 `collapsed` 选项仍将优先于此配置。

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          sidebarCollapsed: false,
        },
      },
    ],
  ],
};
```

:::warning

当一个分类有 `collapsed: true` 但 `collapsible: false`（无论是通过 `sidebars.js` 还是通过插件配置）时，后者优先，分类仍然渲染为展开状态。

:::

## 使用简写 {#using-shorthands}

您可以使用**简写语法**更简洁地表达没有太多自定义的典型侧边栏项目。这包括两部分：[**文档简写**](#doc-shorthand)和[**分类简写**](#category-shorthand)。

### 文档简写 {#doc-shorthand}

一个类型为 `doc` 的项目可以简单地是一个表示其 ID 的字符串：

```mdx-code-block
<Tabs>
<TabItem value="Longhand">
```

```js title="sidebars.js"
export default {
  sidebar: [
    // highlight-start
    {
      type: 'doc',
      id: 'myDoc',
    },
    // highlight-end
  ],
};
```

```mdx-code-block
</TabItem>
<TabItem value="Shorthand">
```

```js title="sidebars.js"
export default {
  sidebar: [
    // highlight-start
    'myDoc',
    // highlight-end
  ],
};
```

```mdx-code-block
</TabItem>
</Tabs>
```

因此可以将上面的例子简化为：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'category',
      label: '入门',
      items: [
        // highlight-next-line
        'doc1',
      ],
    },
    {
      type: 'category',
      label: 'Docusaurus',
      items: [
        // highlight-start
        'doc2',
        'doc3',
        // highlight-end
      ],
    },
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

### 分类简写 {#category-shorthand}

一个分类项目可以由一个对象表示，其键是其标签，值是子项目数组。

```mdx-code-block
<Tabs>
<TabItem value="Longhand">
```

```js title="sidebars.js"
export default {
  sidebar: [
    // highlight-start
    {
      type: 'category',
      label: '入门',
      items: ['doc1', 'doc2'],
    },
    // highlight-end
  ],
};
```

```mdx-code-block
</TabItem>
<TabItem value="Shorthand">
```

```js title="sidebars.js"
export default {
  sidebar: [
    // highlight-start
    {
      '入门': ['doc1', 'doc2'],
    },
    // highlight-end
  ],
};
```

```mdx-code-block
</TabItem>
</Tabs>
```

这允许我们将该示例简化为：

```js title="sidebars.js"
export default {
  mySidebar: [
    // highlight-start
    {
      '入门': ['doc1'],
    },
    {
      'Docusaurus': ['doc2', 'doc3'],
    },
    // highlight-end
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

经过此转换后，每个简写对象将只包含一个条目。现在考虑下面进一步简化的示例：

```js title="sidebars.js"
export default {
  mySidebar: [
    // highlight-start
    {
      '入门': ['doc1'],
      'Docusaurus': ['doc2', 'doc3'],
    },
    // highlight-end
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

注意两个连续的分类简写如何被压缩成一个有两个条目的对象。此语法生成一个**侧边栏切片**：您不应将该对象视为一个整体项目——该对象被展开，每个条目成为一个单独的项目，并与其余项目（在这种情况下是“了解更多”链接）拼接在一起，形成最终的侧边栏级别。在讨论[自动生成的侧边栏](autogenerated.mdx)时，侧边栏切片也很重要。

在任何您有一个项目数组被简化为一个分类简写的地方，您也可以省略该封闭数组。

```mdx-code-block
<Tabs>
<TabItem value="Before">
```

```js title="sidebars.js"
export default {
  sidebar: [
    {
      '入门': ['doc1'],
      'Docusaurus': [
        {
          '基础指南': ['doc2', 'doc3'],
          '高级指南': ['doc4', 'doc5'],
        },
      ],
    },
  ],
};
```

```mdx-code-block
</TabItem>
<TabItem value="After">
```

```js title="sidebars.js"
export default {
  sidebar: {
    '入门': ['doc1'],
    'Docusaurus': {
      '基础指南': ['doc2', 'doc3'],
      '高级指南': ['doc4', 'doc5'],
    },
  },
};
```

```mdx-code-block
</TabItem>
</Tabs>
```
