---
id: introduction
description: Docusaurus 使用 MDX。了解更多在编写 Markdown 时 Docusaurus 特有的功能。
slug: /markdown-features
---

# Markdown 功能

import BrowserWindow from '@site/src/components/BrowserWindow';

Docusaurus 使用 **[Markdown](https://commonmark.org/)** 作为其主要内容创作格式。

:::tip 学习 Markdown

您可以在 [10 分钟内学会 Markdown](https://commonmark.org/help/)。

:::

Docusaurus 使用现代工具来帮助您创建**互动式文档**。

**[MDX](https://mdxjs.com/)** 编译器将 **Markdown 文件转换为 React 组件**，并允许您在 Markdown 内容中使用 JSX。这使您能够轻松地在内容中穿插 React 组件，并创造愉快的学习体验。

:::tip 使用 MDX Playground

**[MDX playground](https://mdxjs.com/playground/)** 是您的新好朋友！

它是一个非常有用的调试工具，可以显示 MDX 编译器如何将 Markdown 转换为 React。

**选项**：选择正确的格式（MDX 或 CommonMark）以及 Docusaurus 使用的以下插件：`remark-gfm`、`remark-directive`、`rehype-raw`。

:::

## MDX 与 CommonMark {#mdx-vs-commonmark}

Docusaurus 使用 MDX 编译器编译 `.md` 和 `.mdx` 文件为 React 组件，但**语法的解释方式可能因您的设置而异**。

MDX 编译器支持 [2 种格式](https://mdxjs.com/packages/mdx/#optionsformat)：

- [MDX 格式](https://mdxjs.com/docs/what-is-mdx/)：一个强大的解析器，允许使用 JSX
- [CommonMark 格式](https://commonmark.org/)：一个符合标准的 Markdown 解析器，不允许使用 JSX

由于历史原因，**Docusaurus v3 默认对所有文件（包括 `.md` 文件）使用 MDX 格式**。

可以使用 [`siteConfig.markdown.format`](../../api/docusaurus.config.js.mdx#markdown) 设置或 `mdx.format: md` front matter **选择加入 CommonMark**。

:::tip 如何使用 CommonMark

如果您计划使用 CommonMark，我们推荐使用 [`siteConfig.markdown.format: 'detect'`](../../api/docusaurus.config.js.mdx#markdown) 设置。系统将根据文件扩展名自动选择适当的格式：

- `.md` 文件将使用 CommonMark 格式
- `.mdx` 文件将使用 MDX 格式

:::

:::danger 实验性的 CommonMark 支持

CommonMark 支持是**实验性的**，目前有一些[限制](https://github.com/facebook/docusaurus/issues/9092)。

:::

## 标准功能 {#standard-features}

Markdown 是一种语法，使您能够以可读的语法编写格式化的内容。

```md
### 我的文档部分

你好世界消息，带有一些**粗体**文本，一些_斜体_文本，和一个[链接](/)

![图片 alt](/img/docusaurus.png)
```

```mdx-code-block
<BrowserWindow>

<h3>我的文档部分</h3>

你好世界消息，带有一些**粗体**文本，一些_斜体_文本和一个[链接](/)

![图片 alt](/img/docusaurus.png)

</BrowserWindow>
```

<details>

<summary>Markdown 是声明性的</summary>

有些人可能认为 Markdown 和 HTML 之间存在一对一的对应关系，例如，`![预览](/img/docusaurus.png)` 将总是变成 `<img src="/img/docusaurus.png" alt="预览" />`。然而，_情况并非如此_。

Markdown 语法 `![消息](url)` 只是声明性地告诉 Docusaurus 在这里需要插入一张图片，但我们可能会做其他事情，比如将[文件路径转换为 URL 路径](./markdown-features-assets.mdx#images)，所以生成的标记可能与其他 Markdown 渲染器的输出，或天真地手写成等效的 JSX/HTML 代码不同。

总的来说，您只应该假设标记的_语义_（` ``` ` 围栏变成[代码块](./markdown-features-code-blocks.mdx)；`>` 变成[引用](#quotes)等），而不是实际编译的输出。

</details>

## Front matter {#front-matter}

Front matter 用于为您的 Markdown 文件添加元数据。所有内容插件都有自己的 front matter 模式，并使用 front matter 来丰富从内容或其他配置中推断出的默认元数据。

Front matter 位于文件的最顶部，由三条短划线 `---` 包围。内容被解析为 [YAML](https://yaml.org/spec/1.2.2/)。

```md
---
title: 我的文档标题
more_data:
  - 可以提供
  - as: 对象
    or: 数组
---
```

:::info

每个官方插件的 API 文档都列出了支持的属性：

- [文档 front matter](../../api/plugins/plugin-content-docs.mdx#markdown-front-matter)
- [博客 front matter](../../api/plugins/plugin-content-blog.mdx#markdown-front-matter)
- [页面 front matter](../../api/plugins/plugin-content-pages.mdx#markdown-front-matter)

:::

:::tip 增强您的 front matter

使用 [Markdown 配置 `parseFrontMatter` 函数](../../api/docusaurus.config.js.mdx#markdown)来提供您自己的 front matter 解析器，或增强默认解析器。

可以重用默认解析器，用您自己的自定义专有逻辑来包装它。这使得实现方便的 front matter 转换、快捷方式，或与 Docusaurus 插件不支持的外部系统使用 front matter 集成成为可能。

```js title="docusaurus.config.js"
export default {
  markdown: {
    // highlight-start
    parseFrontMatter: async (params) => {
      // 重用默认解析器
      const result = await params.defaultParseFrontMatter(params);

      // 处理 front matter 描述占位符
      result.frontMatter.description =
        result.frontMatter.description?.replaceAll('{{MY_VAR}}', 'MY_VALUE');

      // 创建您自己的 front matter 快捷方式
      if (result.frontMatter.i_do_not_want_docs_pagination) {
        result.frontMatter.pagination_prev = null;
        result.frontMatter.pagination_next = null;
      }

      // 重命名来自另一个系统的、不受支持的 front matter
      if (result.frontMatter.cms_seo_summary) {
        result.frontMatter.description = result.frontMatter.cms_seo_summary;
        delete result.frontMatter.cms_seo_summary;
      }

      return result;
    },
    // highlight-end
  },
};
```

:::

## 引用 {#quotes}

Markdown 引用样式精美：

```md
> 易于维护的开源文档网站。
>
> — Docusaurus
```

<BrowserWindow>

> 易于维护的开源文档网站。
>
> — Docusaurus

</BrowserWindow>

## Details {#details}

Markdown 可以嵌入 HTML 元素，[`details`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details) HTML 元素的样式也很精美：

{/* prettier-ignore */}
````md
### Details 元素示例

<details>
  <summary>点我切换！</summary>

  这是详细内容

  ```js
  console.log("包括代码块在内的 Markdown 功能都可用");
  ```

  您可以在这里使用 Markdown，包括**粗体**和_斜体_文本，以及[内联链接](https://docusaurus.io)
  <details>
    <summary>嵌套切换！里面有惊喜……</summary>

    😲😲😲😲😲
  </details>
</details>
````

````mdx-code-block
<BrowserWindow>

<h3>Details 元素示例</h3>

<details>
  <summary>点我切换！</summary>

  这是详细内容

  ```js
  console.log("包括代码块在内的 Markdown 功能都可用");
  ```

  您可以在这里使用 Markdown，包括**粗体**和_斜体_文本，以及[内联链接](https://docusaurus.io)
  <details>
    <summary>嵌套切换！里面有惊喜……</summary>

    😲😲😲😲😲
  </details>
</details>

</BrowserWindow>
````

:::info

您可能希望将您的 `<summary>` 保持在单行。请记住，[MDX 会为换行符创建额外的 HTML `<p>` 段落。](https://mdxjs.com/migrating/v2/#jsx)。如有疑问，请使用 [MDX playground](https://mdxjs.com/playground/) 来排查 `<details>` 渲染问题。

:::
