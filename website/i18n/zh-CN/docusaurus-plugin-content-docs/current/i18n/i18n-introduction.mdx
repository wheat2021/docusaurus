---
id: introduction
slug: /i18n/introduction
---

# i18n - 介绍

通过其国际化（[i18n](https://en.wikipedia.org/wiki/Internationalization_and_localization)）支持，**翻译一个 Docusaurus 网站非常容易**。

## 目标 {#goals}

理解 Docusaurus i18n 支持背后的**设计决策**非常重要。

更多背景信息，您可以阅读最初的 [RFC](https://github.com/facebook/docusaurus/issues/3317) 和 [PR](https://github.com/facebook/docusaurus/pull/3325)。

### i18n 目标 {#i18n-goals}

Docusaurus i18n 系统的目标是：

- **简单**：只需将翻译文件放在正确的文件系统位置
- **灵活的翻译工作流**：使用 Git（monorepo、forks 或 submodules）、SaaS 软件、FTP
- **灵活的部署选项**：单域名、多域名或混合部署
- **模块化**：允许插件作者提供 i18n 支持
- **低开销运行时**：文档大多是静态的，不需要重量级的 JS 库或 polyfills
- **可扩展的构建时间**：允许独立构建和部署本地化站点
- **本地化资源**：您网站的图片可能包含需要翻译的文本
- **无耦合**：不强制使用任何 SaaS，但可以进行集成
- **易于与 [Crowdin](https://crowdin.com/) 配合使用**：许多 Docusaurus v1 网站使用 Crowdin，并应能够迁移到 v2
- **良好的 SEO 默认值**：我们为您设置了有用的 SEO 头部信息，如 [`hreflang`](https://developers.google.com/search/docs/advanced/crawling/localized-versions)
- **RTL 支持**：支持从右到左阅读的语言环境（阿拉伯语、希伯来语等），并且易于实现
- **默认翻译**：经典主题的标签已为您翻译成[多种语言](https://github.com/facebook/docusaurus/tree/main/packages/docusaurus-theme-translations/locales)

### i18n 非目标 {#i18n-non-goals}

我们不提供以下支持：

- **自动区域设置检测**：这是主观的，最好在[服务器（您的托管服务提供商）](../deployment.mdx)上完成
- **翻译 SaaS 软件**：您有责任了解您选择的外部工具
- **slug 的翻译**：技术上复杂，SEO 价值不大

## 翻译工作流 {#translation-workflow}

### 概述 {#overview}

创建翻译后的 Docusaurus 网站的工作流概述：

1.  **配置**：在 [`docusaurus.config.js`](../api/docusaurus.config.js.mdx#i18n) 中声明默认区域设置和备用区域设置
2.  **翻译**：将翻译文件放在正确的文件系统位置
3.  **部署**：使用单域名或多域名策略构建和部署您的网站

### 翻译文件 {#translation-files}

您将处理三种翻译文件。

#### Markdown 文件 {#markdown-files}

这是您 Docusaurus 网站的主要内容。

Markdown 和 MDX 文档是作为一个整体进行翻译的，以完全保留翻译上下文，而不是将每个句子拆分为单独的字符串。

#### JSON 文件 {#json-files}

JSON 用于翻译：

- 您的 React 代码：`src/pages` 中的独立 React 页面或其他组件
- 通过 `themeConfig` 提供的布局标签：导航栏、页脚
- 通过插件选项提供的布局标签：文档侧边栏分类标签、博客侧边栏标题...

使用的 JSON 格式称为 **Chrome i18n**：

```json
{
  "myTranslationKey1": {
    "message": "翻译后的消息 1",
    "description": "myTranslationKey1 用于主页"
  },
  "myTranslationKey2": {
    "message": "翻译后的消息 2",
    "description": "myTranslationKey2 用于 FAQ 页面"
  }
}
```

做出这个选择有两个原因：

- **描述属性**：为翻译人员提供额外的上下文帮助
- **广泛支持**：[Chrome 扩展](https://developer.chrome.com/docs/extensions/mv2/i18n-messages/)、[Crowdin](https://support.crowdin.com/file-formats/chrome-json/)、[Transifex](https://docs.transifex.com/formats/chrome-json/)、[Phrase](https://help.phrase.com/help/chrome-json-messages)、[Applanga](https://www.applanga.com/docs/formats/chrome_i18n_json) 等。

#### 数据文件 {#data-files}

一些插件可能会从外部数据文件中读取数据，这些文件是作为一个整体进行本地化的。例如，博客插件使用一个 [`authors.yml`](../blog.mdx#global-authors) 文件，可以通过在 `i18n/[locale]/docusaurus-plugin-content-blog/authors.yml` 下创建一个副本来翻译它。

### 翻译文件位置 {#translation-files-location}

翻译文件应创建在正确的文件系统位置。

每个区域设置和插件都有自己的 `i18n` 子文件夹：

```
website/i18n/[locale]/[pluginName]/...
```

:::note

对于多实例插件，路径为 `website/i18n/[locale]/[pluginName]-[pluginId]/...`。

:::

将一个非常简单的 Docusaurus 网站翻译成法语，将产生以下目录树：

```bash
website/i18n
└── fr
    ├── code.json  # React 代码中存在的任何文本标签
    │              # 包括主题代码中的文本标签
    ├── docusaurus-plugin-content-blog # 博客插件需要的翻译数据
    │   └── 2020-01-01-hello.md
    │
    ├── docusaurus-plugin-content-docs # 文档插件需要的翻译数据
    │   ├── current
    │   │   ├── doc1.md
    │   │   └── doc2.mdx
    │   └── current.json
    │
    └── docusaurus-theme-classic # 经典主题需要的翻译数据
        ├── footer.json   # 页脚主题配置中的文本标签
        └── navbar.json   # 导航栏主题配置中的文本标签
```

JSON 文件通过 [`docusaurus write-translations`](../cli.mdx#docusaurus-write-translations-sitedir) CLI 命令进行初始化。每个插件都在相应的文件夹下获取其翻译内容，而 `code.json` 文件定义了 React 代码中使用的所有文本标签。

每个内容插件或主题都不同，并**定义其自己的翻译文件位置**：

- [文档 i18n](../api/plugins/plugin-content-docs.mdx#i18n)
- [博客 i18n](../api/plugins/plugin-content-blog.mdx#i18n)
- [页面 i18n](../api/plugins/plugin-content-pages.mdx#i18n)
- [主题 i18n](../api/themes/theme-configuration.mdx#i18n)
```
